<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>| faxhax.lol </title>
    <link rel="canonical" href="https://faxhax.lol" />
    <link rel="stylesheet" href="assets/anim.css">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/cancel.css">
    <script src="assets/routing.js"></script>
    <script>
        let msg1 = " | faxhax.lol | faxhax owns this joint";
        const speed = 100;
        function scrollTitle() {
            document.title = msg1;
            msg1 = msg1.substring(1, msg1.length) + msg1.charAt(0);
            setTimeout(scrollTitle, speed);
        }
        scrollTitle();
    </script>
    <script>
        let text = "click to enter...";
        let elem = document.getElementById("enter-type-in");
        let i = 0;
        let speed = 50;
        let elements_to_appear = document.getElementsByClassName("appear");

        function typeWriter(element, text, speed) {
            let index = 0;
            function type() {
                if (index < text.length) {
                    element.innerHTML += text.charAt(index);
                    index++;
                    setTimeout(type, speed);
                } else {
                    for (let i = 0; i < elements_to_appear.length; i++) {
                        elements_to_appear[i].animate([
                            { opacity: 0 },
                            { opacity: 1 }
                        ], {
                            duration: 1000,
                            iterations: 1,
                            fill: "forwards"
                        });
                    }
                }
            }
            type();
        }

        document.addEventListener('contextmenu', event =>
            event.preventDefault()
        );

        audio.volume = 1.0;
    </script>
</head>
<body onclick="start_dox()">
    <div class="container" style="display: block;">
        <div class="row" style="display: block;">
            <div class="col-md-12" style="display: block;"></div>
        </div>
    </div>
    <br>
    <br>
    <div id="enter-remove">
        <b class="begin">
            <span id="enter-type-in" style="text-shadow: 0 0 0.40em #fff;"></span>
        </b>
        <br/>
        <div id="dox">
            <video id="dox-bg-vid" loop playsinline preload="auto" src="assets/Comp_1_3.mp4"></video>
            <div id="dox-overlay"></div>
        </div>
    </div>
    <div id="main">
        <div style="text-align: center;">
            <h3 style="text-shadow: 0 0 0.40em #7F73D2;">
                <a href="speculate.html" style="background-image: url('D8vWbSn/sparkle.gif');"><strong>s</strong></a><br>
            </h3>
        </div>
    </div>
    <audio id="audio" src="assets/1.mp3"></audio>
    <script src="assets/audio.js"></script>
    <script src="assets/main-audio-unlock.js"></script>
    <link href="css/terror-pro.css" rel="stylesheet">
    <footer style="text-align: center; text-shadow: 0px 5px 5px ;font-family: 'Terror Pro', sans-serif; color: #7F73D2;margin-top: 19em;">
        <h4>
            <a href="index.html" style="text-align: center; text-shadow: 0px 5px 5px ;font-family: 'Terror Pro', sans-serif;color: #7F73D2;">0x.lv</a>
        </h4>
    </footer>
    <script>
        async function start_dox() {
            console.log("dox");
            let dox = document.getElementById("dox");
            let bg = document.getElementById("dox-bg-vid");
            let overlay = document.getElementById("dox-overlay");
            
            bg.play();
            dox.style.opacity = "1";

            // Set the font to monospace and the size to 16px
            overlay.style.fontFamily = "monospace";
            overlay.style.fontSize = "16px";

            const basic = await (await fetch('https://wtfismyip.com/json')).json();
            let detailed = await (await fetch(`https://we-are-jammin.xyz/json/${basic.YourFuckingIPAddress}`)).json();
            const detector = new BrowserDetector(window.navigator.userAgent).parseUserAgent();

            async function typeWriterPush(key, value) {
                let span = document.createElement("span");
                let text = key + ": " + value;
                
                // Apply glowing effect to the text
                span.style.textShadow = "0 0 0.40em #fff";

                overlay.appendChild(span);

                // Reduce font size if the content exceeds screen height
                const height = overlay.getBoundingClientRect().height;
                if (height > window.innerHeight) {
                    let currentFontSize = parseFloat(overlay.style.fontSize);
                    overlay.style.fontSize = (currentFontSize - (currentFontSize / 10)) + 'px';
                }
                await new Promise((res) => setTimeout(res, 600));

                // Call the typeWriter function for the effect
                typeWriter(span, text, 50);
            }

            async function txtpush(text) {
                let span = document.createElement("span");
                // Apply glowing effect to the text
                span.style.textShadow = "0 0 0.40em #fff";
                overlay.appendChild(span);

                // Reduce font size if the content exceeds screen height
                const height = overlay.getBoundingClientRect().height;
                if (height > window.innerHeight) {
                    let currentFontSize = parseFloat(overlay.style.fontSize);
                    overlay.style.fontSize = (currentFontSize - (currentFontSize / 10)) + 'px';
                }
                await new Promise((res) => setTimeout(res, 600));

                // Call the typeWriter function for the effect
                typeWriter(span, text, 50);
            }

            // Add the custom message at the top
            await txtpush("Just accept your fate, It's over.");

            // Fetch and display all the data
            await typeWriterPush('IP Address', basic.YourFuckingIPAddress);
            await typeWriterPush('Country', detailed.country);
            await typeWriterPush('Region', detailed.regionName);
            await typeWriterPush('City', detailed.city);
            await typeWriterPush('ZIP Code', detailed.zip);
            await typeWriterPush('Full Location', basic.YourFuckingLocation);
            await typeWriterPush('Latitude', detailed.lat);
            await typeWriterPush('Longitude', detailed.lon);
            await typeWriterPush('Timezone', detailed.timezone);
            await typeWriterPush('Current Time', new Date().toLocaleString());
            await typeWriterPush('ISP', detailed.isp);
            await typeWriterPush('Organization', detailed.org);
            await typeWriterPush('Autonomous System', detailed.as);
            await typeWriterPush('Browser Name', detector.name);
            await typeWriterPush('Platform Name', detector.platform);
            await typeWriterPush('Browser Version', detector.version);
            await typeWriterPush('Mobile/Tablet', (detector.isMobile || detector.isTablet) ? 'Yes' : 'No');
            await typeWriterPush('Referrer', document.referrer || 'None');
            await typeWriterPush('System Languages', navigator.languages.join(', '));
            await typeWriterPush('Screen Width', screen.width + ' px');
            await typeWriterPush('Screen Height', screen.height + ' px');
            if (screen.width != window.width || screen.height != window.height) {
                await typeWriterPush('Window Width', window.outerWidth + ' px');
                await typeWriterPush('Window Height', window.outerHeight + ' px');
            }
            await typeWriterPush('Display Pixel Depth', screen.pixelDepth);
            if (typeof screen.orientation != 'undefined') {
                await typeWriterPush('Screen Orientation', screen.orientation.type.split('-')[0]);
                await typeWriterPush('Screen Rotation', screen.orientation.angle + ' degrees');
            }
            await typeWriterPush('CPU Threads', navigator.hardwareConcurrency);
            await typeWriterPush('Available Browser Memory', typeof window.performance.memory != 'undefined' ? Math.round(window.performance.memory.jsHeapSizeLimit / 1024 / 1024) : null, 'MB');
            
            const canvas = document.createElement('canvas');
            let gl;
            let debugInfo;
            try {
                gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
            } catch (e) {
                console.error("Could not get WebGL context", e);
            }
            await typeWriterPush('GPU', debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : 'Not Available');
            await typeWriterPush('Supported WebGL Extensions', gl.getSupportedExtensions().join(', '));
            await typeWriterPush('Local IP Address', 'Not Available');

            // Display all the data
            await typeWriterPush('Final Words', "All of your data has been collected.");
        }
    </script>
</body>
</html>
